@page "/Checkout"
@inherits CheckoutBase
<h3>Checkout</h3>
<div class="row">
  <div class="col-md-6">
    <h4 class="mb-2">Payment Method</h4>
    <div id="smart-button-container">
      <input id="description" maxlength="127"
             name="descriptionInput" type="hidden"
             @bind="PaymentDescription">
      <input id="amount" name="amountInput" type="hidden" @bind="PaymentAmount">
      <div id="paypal-button-container" style="text-align: center; margin-top: 0.625rem;"></div>
    </div>
  </div>

  @if (ShoppingCartItems == null)
  {
    <DisplaySpinner/>
  }
  else
  {
    <div class="col-md-6">
      <h4 class="mb-2">
        Payment Summary
      </h4>
      @if (ShoppingCartItems.Any())
      {
        <table class="table">
          <thead>
          <tr>
            <th>Product</th>
            <th>Price</th>
          </tr>
          </thead>
          <tbody>
          @foreach (var item in ShoppingCartItems)
          {
            <tr>
              <td>@item.Qty x @item.ProductName</td>
              <td>@item.TotalPrice.ToString("C")</td>
            </tr>
          }
          <tr>
            <td>
              <b>Total</b>
            </td>
            <td>
              <b>@PaymentAmount.ToString("C")</b>
            </td>
          </tr>
          </tbody>
        </table>
      }
      else
      {
        <p >You currently have no items in your shopping cart.</p>
      }
    </div>
  }
</div>
