<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
    <title>ShopOnline.Web</title>
    <base href="/"/>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
          integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" rel="stylesheet">
    <link crossorigin="anonymous"
          href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css"
          integrity="sha512-UyNhw5RNpQaCai2EdC+Js0QL4RlVmiq41DkmCJsRV3ZxipG2L0HhTqIf/H9Hp8ez2EnFlkBnjRGJU2stW3Lj+w=="
          referrerpolicy="no-referrer" rel="stylesheet"/>
    <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
          referrerpolicy="no-referrer" rel="stylesheet"/>

    <link href="css/app.css" rel="stylesheet"/>
    <link href="ShopOnline.Web.styles.css" rel="stylesheet"/>
</head>

<body>
<div id="app">Loading...</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a class="reload oi oi-sp" href="">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>
<script src="js/ShoppingCartFunctions.js"></script>
<script src="_framework/blazor.webassembly.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
<script data-sdk-integration-source="button-factory"
        src="https://www.paypal.com/sdk/js?client-id=AZ-MymEwyaxaJaiu3ghm6Y_4q9_Nu8WcS84-E7hlqKLkzfh_eEhAT0SNn-d3IH2z_ENVQJbejQ-WsJcW&currency=USD">
</script>
<script>
    function initPayPalButton() {
        var description = document.querySelector('#smart-button-container #description');
        var amount = document.querySelector('#smart-button-container #amount');
        var purchase_units = [];
        purchase_units[0] = {};
        purchase_units[0].amount = {};
        paypal.Buttons({
            style: {
                color: 'blue',
                shape: 'pill',
                label: 'checkout',
                layout: 'vertical',
            },
            createOrder: function (data, actions) {
                purchase_units[0].description = description.value;
                purchase_units[0].amount.value = amount.value;
                return actions.order.create({
                    purchase_units: purchase_units,
                });
            },
            onApprove: function (data, actions) {
                return actions.order.capture().then(function (orderData) {
                    // Full available details
                    console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));
                    // Show a success message within this page, e.g.
                    const element = document.getElementById('paypal-button-container');
                    element.innerHTML = '';
                    element.innerHTML = '<h3>Thank you for your payment!</h3>';
                    // Or go to another URL:  actions.redirect('thank_you.html');
                });
            },
            onError: function (err) {
                console.log(err);
            }
        }).render('#paypal-button-container');
    }
</script>
</body>
</html>
